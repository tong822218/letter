<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport"
	content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no" />
<title>发信</title>
<script type="text/javascript" src="${rc.contextPath}/static/jquery/jquery-1.9.1.min.js"></script>
<script>
	function check() {
		var sender = document.getElementById('sender').value;
		if (sender == null || sender == "") {
			alert("发信人不可为空");
			return false;
		}
		var tel = document.getElementById('tel').value;
		if (tel == null || tel == "") {
			alert("收信人电话不可为空");
			return false;
		}

		return true;
	}
	function submit(){
		if(check()){
			var tel=$("#tel").val();
			var senderTel=$("#senderTel").val();
			var sender=$("#sender").val();
			$.post("${rc.contextPath}/l/send.html", {tel:tel,sender:sender,senderTel:senderTel}, function(data) {
				var d = "";
				/* if(data=="true"){
					$("#send").css({"display":"none"});
					d='发送成功';
				}else{
					d='发送失败';
				} */
				$(".alert .content").html("发送成功");
				$(".alert").css({"opacity":1,"-webkit-transform":"translate(-50%,-50%) scale(1)"});
			    setInterval(function(){
					$(".alert").css({"-webkit-transform": "translate(-50%,-50%) scale(0)"});
					window.close()
				}, 2000); 
			});
		}
	}
</script>
<style type="text/css">
* {
	margin: 0;
	padding: 0;
}

body {
	background-color: #fff;
	width: 100%;
	height: auto;
}
.cont{
	width: 100%;
	height: 100%;
	display: flex;
}

.bg {
	margin:50px auto;
	position:relative;
	width:90%;
	height:330px;
	background: url("${rc.contextPath}/static/image/send_biankuang.png") no-repeat;
	background-size: contain;
	overflow: hidden;
}
.sjr{
	position:absolute;
	width:180px;
	top:115px;
	left:65px;
	height: 30px;
}
.sjr input{
	border:none;
	background-color:transparent;
	outline:none;
	width: 100%;
	height: 30px;
	line-height: 30px;
}
.fjrname{
	position:absolute;
	width:180px;
	top:158px;
	left:65px;
	height: 30px;
}
.fjrname input{
	border:none;
	background-color:transparent;
	outline:none;
	width: 100%;
	height: 30px;
	line-height: 30px;
}
.fjr{
	position:absolute;
	width:180px;
	top:201px;
	left:65px;
	height: 30px;
}
.fjr input{
	border:none;
	background-color:transparent;
	outline:none;
	width: 100%;
	height: 30px;
	line-height: 30px;
}
.send{
	position:absolute;
	bottom:35px;
	left:125px;
	width:80px;
	height:30px;
	color:#2c2c2c;
	text-align:center;
	font-weight:bold;
	font-size:13px;
	line-height:30px;
	border:solid 2px #eee;
	border-radius: 10%;
	background-color:#fff;
	box-shadow: 1px px 1px #eee;
}
input{	
	text-align:center;
	background: url("${rc.contextPath}/static/image/send_input.png") no-repeat;
	background-size:contain;
}
.alert{
	opacity:0;
	position:absolute;
	width: 170px;
	height: 140px;
	top:50%;
	left: 50%;
	border:solid 1px #eee;
	background-color:#fff;
	border-radius:5%;
	-webkit-transform:translate(-50%,-50%) scale(0);
	-webkit-transition: all .2s ease-out;
}
.alert .title{
	width: 100%;
	height: 20px;
	color: #000;
	font-size:13px;
	padding:5px 0;
	background-color: #eee;
}
.alert .content{
	text-align: center;
	height: 120px;
	line-height: 120px;
}
</style>
</head>
<body>
	<div class="cont">
		<div class="bg">
				 <div class="sjr">
					<input type="text" id="tel" name="tel" placeholder="收信人电话" required>
				</div>
				<div class="fjrname">
					<input type="text" id="sender" name="sender" placeholder="收信人姓名" required>
				</div>
				<div class="fjr">
					<input type="text" id="senderTel" name="senderTel" placeholder="发件人电话" required>
				</div>
				<div class="send" id="send" onclick="submit()">
					发&nbsp;送
				</div> 
		</div>
	</div>
	<div class="alert">
		<div class="title">&nbsp;消息</div>
		<div class="content"></div>
	</div>
</body>
</html>